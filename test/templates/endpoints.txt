// This file was automatically generated by "microgen" utility.
// Please, do not edit.
package stringsvc

import (
	context "context"
	endpoint "github.com/go-kit/kit/endpoint"
)

type Endpoints struct {
	CountEndpoint endpoint.Endpoint
}

func (e *Endpoints) Count(ctx context.Context, text string, symbol string) (count int, positions []int) {
	req := CountRequest{
		Symbol: symbol,
		Text:   text,
	}
	resp, err := e.CountEndpoint(ctx, &req)
	if err != nil {
		return
	}
	return resp.(*CountResponse).Count, resp.(*CountResponse).Positions
}

func CountEndpoint(svc StringService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(*CountRequest)
		count, positions := svc.Count(ctx, req.Text, req.Symbol)
		return &CountResponse{
			Count:     count,
			Positions: positions,
		}, nil
	}
}
